(this.webpackJsonpshopapp=this.webpackJsonpshopapp||[]).push([[0],{30:function(e,t,a){e.exports=a(45)},35:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),l=a.n(r),o=(a(35),a(8)),i=a(9),s=a(10),m=a(11),u=a(12),d=a(28),p=a(13),h=function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"set",value:function(e){localStorage.setItem("_orders",JSON.stringify(e))}},{key:"get",value:function(){return JSON.parse(localStorage.getItem("_orders"))}}]),e}(),E=Object(n.createContext)(),v=new h,f=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).findItem=function(e,t){return e.find((function(e){return e.id===t}))},e.updateCount=function(t,a){var n=e.state.cart;1===e.findItem(n,t).count&&a<0?e.removeFromCart(t):e.setState({cart:n.map((function(e){return e.id===t?Object(p.a)({},e,{count:e.count+a}):e}))},e.updateLocalStorage)},e.updateLocalStorage=function(){v.set(e.state.cart)},e.addToCart=function(t){if(e.state.cart.some((function(e){return e.id===t.id})))e.updateCount(t.id,1);else{t=Object(p.a)({},t,{count:1});var a=[].concat(Object(d.a)(e.state.cart),[t]);e.setState({cart:a},e.updateLocalStorage)}},e.clearCart=function(t){e.setState({cart:[]}),e.updateLocalStorage()},e.removeFromCart=function(t){var a=e.state.cart.filter((function(e){return e.id!==t}));e.setState({cart:a}),e.updateLocalStorage()},e.toggleShow=function(t){e.setState((function(e){return{show:!e.show}}))},e.state={cart:v.get()?v.get():[],show:!1},v.get()?e.setState({cart:v.get()}):v.set(e.state.cart),e}return Object(i.a)(a,[{key:"render",value:function(){var e=Object(p.a)({},this.state,{addToCart:this.addToCart,removeFromCart:this.removeFromCart,toggleShow:this.toggleShow,updateCount:this.updateCount,findItem:this.findItem,clearCart:this.clearCart});return c.a.createElement(E.Provider,{value:e},this.props.children)}}]),a}(c.a.Component),g=a(6),b=a(7);var j=function(){var e=Object(n.useContext)(E).toggleShow;return c.a.createElement("header",null,c.a.createElement("div",{id:"logo"},c.a.createElement("h2",null,"Shop App")),c.a.createElement("nav",null,c.a.createElement(u.b,{className:"link",to:"/shopApp/",exact:!0},"Home"),c.a.createElement(u.b,{className:"link",to:"/shopApp/about"},"About"),c.a.createElement(u.b,{className:"link",to:"/shopApp/orders"},"Orders"),c.a.createElement("button",{className:"link",id:"cartBtn",onClick:e},c.a.createElement(g.a,{icon:b.c}),"\xa0Cart")))},w=a(5),N=a.n(w),k=a(27);var C=function(){return c.a.createElement("section",{id:"about"},c.a.createElement(N.a,null,c.a.createElement("h2",null,"About"),c.a.createElement("p",null,"This is a project by Saurav Kumar. To check out the source code of this project, click the button below."),c.a.createElement("h4",null,"Credits"),c.a.createElement("p",null,"All the photos used in this project are from pexels."),c.a.createElement("p",null,"Photo by Tom Swinnen from Pexels"),c.a.createElement("div",null,c.a.createElement("a",{className:"btn",href:"https://github.com/sauravk7077/shopapp"},c.a.createElement(g.a,{icon:k.a}),"\xa0Visit GitHub Page"))))};var O=function(e){return c.a.createElement("button",{disabled:e.disabled,className:"btn"+(e.className?" "+e.className:""),onClick:e.click},e.value)};var S=function(e){return c.a.createElement("div",{className:"alert ".concat(e.className)},c.a.createElement(N.a,{when:!e.className},c.a.createElement("h3",null,e.title),c.a.createElement("p",null,e.description),c.a.createElement(O,{value:"OK",click:e.click})))},y=Object(n.createContext)(),A=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).toggleAlert=function(){e.setState((function(e){return{show:!e.show}}))},e.setDetails=function(t,a){e.setState({title:t,desc:a})},e.state={show:!1,title:"Title",desc:"Description"},e}return Object(i.a)(a,[{key:"render",value:function(){var e=Object(p.a)({},this.state,{toggleAlert:this.toggleAlert,setDetails:this.setDetails});return c.a.createElement(y.Provider,{value:e},c.a.createElement("div",{className:"modal ".concat(this.state.show?"":"hidden")},c.a.createElement("div",{className:"alert"},c.a.createElement("h3",null,this.state.title),c.a.createElement("p",null,this.state.desc),c.a.createElement(O,{value:"OK",click:this.toggleAlert}))),this.props.children)}}]),a}(c.a.Component);var x=function(e){var t=Object(n.useContext)(E),a=Object(n.useContext)(y),r=e.name,l=e.price,o=e.image,i=e.id,s=e.mrp,m=t.findItem(t.cart,i);return c.a.createElement(N.a,{big:!0},c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:"/shopApp/img/"+o,alt:"Tomato Sauce",loading:"lazy"})),c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"name"},r),c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement("p",null,l+"$"),c.a.createElement("p",null," (MRP - ",s+"$",") "))),c.a.createElement(O,{value:m?"Add More":"Add To Cart",click:function(n){t.addToCart(e),a.setDetails("Success","You have successfully added ".concat(r," to your cart")),a.toggleAlert()}}))))};var T=function(){return c.a.createElement("section",{id:"home"},c.a.createElement(N.a,{big:!0,cascade:!0},c.a.createElement("div",{className:"items-container"},c.a.createElement(x,{id:"dfl4",name:"Koda Camera",price:500,mrp:800,image:"cam.jpg"}),c.a.createElement(x,{id:"dfl3",name:"Tomato",price:400,mrp:700,image:"tomato.jpg"}),c.a.createElement(x,{id:"dfl8",name:"Yellow Potato",price:400,mrp:700,image:"potato.jpg"}),c.a.createElement(x,{id:"dfl5",name:"Bluetooth Speaker",price:400,mrp:700,image:"bSpeaker.jpg"}),c.a.createElement(x,{id:"dfl3",name:"Tomato",price:400,mrp:700,image:"tomato.jpg"}),c.a.createElement(x,{id:"dgl8",name:"Yellow Potato",price:400,mrp:700,image:"potato.jpg"}),c.a.createElement(x,{id:"dil8",name:"Bluetooth Speaker",price:400,mrp:700,image:"bSpeaker.jpg"}),c.a.createElement(x,{id:"drl7",name:"Koda Camera",price:500,mrp:800,image:"cam.jpg"}))))},P=a(29);var I=function(e){var t=Object(n.useContext)(E).updateCount,a=e.ob,r=a.name,l=a.price,o=a.image,i=a.id,s=a.count;return console.log(e),c.a.createElement(N.a,{big:!0,cascade:!0},c.a.createElement("div",{className:"orderItem"},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:"/shopApp/img/"+o,alt:"Tomato Sauce",loading:"lazy"})),c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"name"},r),c.a.createElement("div",null,l+"$"),c.a.createElement("div",null,"Quantity: ",s),c.a.createElement("div",{className:"incrementBox"},c.a.createElement(O,{className:"slim",value:c.a.createElement(g.a,{icon:b.b}),click:function(e){return t(i,1)}}),c.a.createElement(O,{className:"slim",value:c.a.createElement(g.a,{icon:b.a}),click:function(e){return t(i,-1)}})))))};var B=function(){var e=Object(n.useState)(!1),t=Object(P.a)(e,2),a=t[0],r=t[1],l=function(){r(!a)},o={},i=Object(n.useContext)(E),s=i.cart,m=i.clearCart,u=s.map((function(e){return c.a.createElement(I,{ob:e})})),d=c.a.createElement("div",{className:"empty"},"Your cart is empty");if(u.length>0){var p=s.reduce((function(e,t){return e+t.price*t.count}),0),h=s.reduce((function(e,t){return e+t.count}),0);d=c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Your Orders"),c.a.createElement("div",{className:"ordersPage"},c.a.createElement("div",{className:"ordersContainer"},u),c.a.createElement("div",{className:"checkoutBox"},c.a.createElement("p",null,"Total Items"),c.a.createElement("h2",null,h),c.a.createElement("p",null,"Total Payment"),c.a.createElement("h2",null,"$",p))),c.a.createElement(S,{title:"success",className:a?"":"hidden",click:function(e){l(),m()},description:"You have sucessfully bought the items."}))}else o={justifyContent:"center"};return c.a.createElement("section",{id:"orders",style:o},d,u.length>0?c.a.createElement(O,{value:"CheckOut",click:l}):"")};var L=function(){var e=Object(n.useContext)(E),t=e.cart,a=e.show,r=e.updateCount,l=e.toggleShow,o=Object(n.useRef)(),i=function(e){!o.current.contains(e.target)&&a&&l()};Object(n.useEffect)((function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}}));var s=t.map((function(e){return c.a.createElement("div",{className:"cartItem",key:e.id},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:"/shopApp/img/"+e.image,alt:e.name})),c.a.createElement("div",null,c.a.createElement("div",{className:"name"},e.name),c.a.createElement("div",null,"Price - $",e.price),c.a.createElement("div",null,"Quantity: ",e.count),c.a.createElement("div",{className:"incrementBox"},c.a.createElement(O,{className:"slim",value:c.a.createElement(g.a,{icon:b.b}),click:function(t){return r(e.id,1)}}),c.a.createElement(O,{className:"slim",value:c.a.createElement(g.a,{icon:b.a}),click:function(t){return r(e.id,-1)}}))))})),m=c.a.createElement("div",{className:"empty"},"Your cart is empty.");return c.a.createElement("div",{ref:o,className:"cartBox"+(a?"":" hidden"),tabIndex:"1"},c.a.createElement("div",{className:"cartTop"},c.a.createElement("h3",null,"Cart")),s.length>0?s.concat(c.a.createElement("a",{href:"./orders"},c.a.createElement(O,{value:"Buy"}))):m,c.a.createElement(O,{className:"close subtle",click:l,value:c.a.createElement(g.a,{icon:b.d})}))},W=a(2),Y=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement(f,null,c.a.createElement(A,null,c.a.createElement(u.a,null,c.a.createElement("div",{ref:"node",className:"App"},c.a.createElement(j,null),c.a.createElement(L,null),c.a.createElement(W.a,{path:"/shopApp/",component:T,exact:!0}),c.a.createElement(W.a,{path:"/shopApp/about",component:C}),c.a.createElement(W.a,{path:"/shopApp/orders",component:B})))))}}]),a}(c.a.Component),$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");$?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(t,e)}))}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.add3523f.chunk.js.map